<div class="user-info" style="padding-top: 10px; padding-bottom: 10px;">
  <h2 class="user-text">Passengers Information</h2>
  <div class="form-div">
    <hr style="margin-top:0px; margin-bottom: 5px;">
    <form id="form" action="" #f="ngForm" (ngSubmit)="f.valid && onSubmit()" novalidate>
    
      <div *ngFor="let user of adultUsers, let i = index" style="padding-top: 30px;">
        <div>
          <h6 style="font-weight: 700; font-size: 20px;" >#{{ i + 1}} <span>Adult Ticket</span></h6>
        </div>
        <div class="form-group">
            <label for="fullName{{i}}">Full Name:</label>
            <input type="text" id="fullName{{i}}"  name="fullName{{i}}" [(ngModel)]="adultUsers[i].fullName" #fullName="ngModel" required>
            <div class="text-danger" *ngIf="f.controls['fullName'+i]?.errors && f.submitted">
              <div *ngIf="f.controls['fullName'+i]?.errors?.['required']"><small>Full name is required</small></div>
            </div>
        </div>
            <div class="form-group">
              <label for="cnp{{i}}">Identify number:</label>
              <input [(ngModel)]="adultUsers[i].cnp" #cnp="ngModel" type="text" id="cnp{{i}}" name="cnp{{i}}"  minlength="13" maxlength="13" required>
              <div class="text-danger" *ngIf="f.submitted && f.controls['cnp'+i]?.errors">
                <div *ngIf="f.controls['cnp'+i]?.errors?.['required']"><small>Identify number is required</small></div>
                <div *ngIf="f.controls['cnp'+i]?.errors?.['minlength']"><small>Identify number must contain 13 characters</small></div>
              </div>
            </div>
      </div>

      <div *ngFor="let user of childrenUsers, let i = index" style="padding-top: 30px;">
        <div>
            <h6 style="font-weight: 700; font-size: 20px;" >#{{ i + 1}} <span>Child Ticket</span></h6>
        </div>
        <div class="form-group">
            <label for="fullName{{i}}">Full Name:</label>
            <input type="text" id="fullName{{i}}"  name="fullName{{i}}" [(ngModel)]="childrenUsers[i].fullName" #fullName="ngModel" required>
            <div class="text-danger" *ngIf="f.controls['fullName'+i]?.errors && f.submitted">
              <div *ngIf="f.controls['fullName'+i]?.errors?.['required']"><small>Full name is required</small></div>
            </div>
          </div>
          <div class="form-group">
            <label for="cnp{{i}}">Identify number:</label>
            <input [(ngModel)]="childrenUsers[i].cnp" #cnp="ngModel" type="text" id="cnp{{i}}" name="cnp{{i}}"  minlength="13" maxlength="13" required>
            <div class="text-danger" *ngIf="f.submitted && f.controls['cnp'+i]?.errors">
              <div *ngIf="f.controls['cnp'+i]?.errors?.['required']"><small>Identify number is required</small></div>
              <div *ngIf="f.controls['cnp'+i]?.errors?.['minlength']"><small>Identify number must contain 13 characters</small></div>
            </div>
          </div>
      </div>

      <div *ngFor="let user of pupilUsers, let i = index" style="padding-top: 30px;">
        <div>
            <h6 style="font-weight: 700; font-size: 20px;" >#{{i + 1}} <span>Pupil Ticket</span></h6>
        </div>
        <div class="form-group">
          <label for="fullName{{i}}">Full Name:</label>
          <input type="text" id="fullName{{i}}"  name="fullName{{i}}" [(ngModel)]="pupilUsers[i].fullName" #fullName="ngModel" required>
          <div class="text-danger" *ngIf="f.controls['fullName'+i]?.errors && f.submitted">
            <div *ngIf="f.controls['fullName'+i]?.errors?.['required']"><small>Full name is required</small></div>
          </div>
        </div>
        <div class="form-group">
            <label for="fullName{{i}}">Pupil ID:</label>
            <input type="text" id="fullName{{i}}"  name="fullName{{i}}" [(ngModel)]="pupilUsers[i].pupilId" #username="ngModel" required>
            <div class="text-danger" *ngIf="f.controls['studentId' + i] && f.submitted">
              <div *ngIf="f.controls['studentId' + i]?.errors?.['required']"><small>Pupil ID is required</small></div>
            </div>
          </div>
          <div class="form-group">
            <label for="cnp{{i}}">Identify number:</label>
            <input [(ngModel)]="pupilUsers[i].cnp" #cnp="ngModel" type="text" id="cnp{{i}}" name="cnp{{i}}"  minlength="13" maxlength="13" required>
            <div class="text-danger" *ngIf="f.submitted && f.controls['cnp'+i]?.errors">
              <div *ngIf="f.controls['cnp'+i]?.errors?.['required']"><small>Identify number is required</small></div>
              <div *ngIf="f.controls['cnp'+i]?.errors?.['minlength']"><small>Identify number must contain 13 characters</small></div>
            </div>
          </div>
      </div>

      <div *ngFor="let user of studentUsers, let i = index" style="padding-top: 30px;">
        <div>
            <h6 style="font-weight: 700; font-size: 20px;" >#{{ i + 1}} <span>Student Ticket</span></h6>
        </div>
        <div class="form-group">
          <label for="fullName{{i}}">Full Name:</label>
          <input type="text" id="fullName{{i}}"  name="fullName{{i}}" [(ngModel)]="studentUsers[i].fullName" #fullName="ngModel" required>
          <div class="text-danger" *ngIf="f.controls['fullName'+i]?.errors && f.submitted">
            <div *ngIf="f.controls['fullName'+i]?.errors?.['required']"><small>Full name is required</small></div>
          </div>
        </div>
        <div class="form-group">
            <label for="studentId{{i}}">Student ID:</label>
            <input type="text" id="studentId{{i}}"  name="studentId{{i}}" [(ngModel)]="studentUsers[i].studentId" #studentId="ngModel" required>
            <div class="text-danger" *ngIf="f.controls['studentId'+i]?.errors && f.submitted">
              <div *ngIf="f.controls['studentId'+i]?.errors?.['required']"><small>Student ID is required</small></div>
              <div *ngIf="isSignUpFailed"><small>Student ID doesn't exist</small></div>
            </div>
          </div>
          <div class="form-group">
            <label for="cnp{{i}}">Identify number:</label>
            <input [(ngModel)]="studentUsers[i].cnp" #cnp="ngModel" type="text" id="cnp{{i}}" name="cnp{{i}}"  minlength="13" maxlength="13" required>
            <div class="text-danger" *ngIf="f.submitted && f.controls['cnp'+i]?.errors">
              <div *ngIf="f.controls['cnp'+i]?.errors?.['required']"><small>Identify number is required</small></div>
              <div *ngIf="f.controls['cnp'+i]?.errors?.['minlength']"><small>Identify number must contain 13 characters</small></div>
            </div>
          </div>
      </div>

      <div *ngFor="let user of pensionerUsers, let i = index" style="padding-top: 30px;">
        <div>
            <h6 style="font-weight: 700; font-size: 20px;" >#{{i + 1}} <span>Pensioner Ticket</span></h6>
        </div>
        <div class="form-group">
            <label for="fullName{{i}}">Full Name:</label>
            <input type="text" id="fullName{{i}}"  name="fullName{{i}}" [(ngModel)]="pensionerUsers[i].fullName" #username="ngModel" required>
            <div class="text-danger" *ngIf="f.controls['fullName' + i] && f.submitted">
              <div *ngIf="f.controls['fullName' + i]?.errors?.['required']"><small>Full name is required</small></div>
            </div>
          </div>
          <div class="form-group">
            <label for="cnp{{i}}">Identify number:</label>
            <input [(ngModel)]="user.cnp" #cnp="ngModel" type="text" id="cnp{{i}}" name="cnp{{i}}"  minlength="13" maxlength="13" required>
            <div class="text-danger" *ngIf="f.submitted && f.controls['cnp' + i]">
              <div *ngIf="f.controls['cnp' + i]?.errors?.['required']"><small>Identify number is required</small></div>
              <div *ngIf="f.controls['cnp' + i]?.errors?.['minlength']"><small>Identify number must contain 13 characters</small></div>
            </div>
          </div>
      </div>
      <div class="form-group" >
        <label><h5 style="font-weight: 700;">Total to pay:</h5></label>
        <input id="input7" type="number" min="0" [value]="calculatePrice()" class="form-control" readonly>
      </div>

      <div class="my-alert-2 my-danger" *ngIf="f.submitted && !isSuccessful" style="margin-top: 10px;">
        <div class="icon">
          <i class="fas fa-exclamation-triangle"></i>
        </div>
        <div class="content">
          <h4>Oops, something went wrong!</h4>
          <p>{{ errorMessage }}</p>
        </div>
      </div>
    </form>
  </div>
  <button form="form" type="submit" class="btn btn-primary">Buy</button>
</div>
<img alt="" class="back" (click)="scrollToTop()" src="../../../assets/images/scroll.png">
